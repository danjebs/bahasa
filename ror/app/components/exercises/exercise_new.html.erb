<turbo-frame id="remote_modal">
  <%= render UI::Layout::Modal.new(id: dom_id(@exercise)) do |component| %>
    <% component.with_heading do %>
      Add New Exercise
    <% end %>
    <%= form_with(model: @exercise.becomes(Exercise), class: "contents") do |form| %>

      <%= render Forms::ErrorNotice.new(model: @exercise) %>

      <% if params[:type].present? %>
        <%= form.hidden_field :type, value: params[:type] %>
        <%= render Forms::HiddenField.new(form: form, field: :type, value: params[:type]) %>
      <% else %>
        <%= render Forms::SelectField.new(
          form: form,
          field: :type,
          options: [["Blurb", "Blurb"], ["Word List", "WordList"], ["Phrase List", "PhraseList"]]
        ) %>
      <% end %>

      <%= render Forms::TextField.new(form: form, field: :title) %>
      <%= render Forms::HiddenField.new(form: form, field: :lesson_id, value: @exercise&.lesson_id) %>

      <%= render Forms::FormActions.new(form: form, cancel_href: :back, is_modal: true) %>
    <% end %>
  <% end %>
</turbo-frame>
